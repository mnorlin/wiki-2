import{T as Re,S as U,i as O,s as F,l as y,m as w,n as $,h as m,p as g,b as T,B,J as A,o as $e,R as J,a as C,c as D,U as Be,V as ae,D as Ze,e as K,K as me,w as L,x as V,H as q,q as se,I as b,y as S,L as de,M as he,N as be,f as E,W as Y,X as G,t as P,z,Y as Oe,Z as Je,_ as oe,r as R,$ as fe,u as Z,g as re,d as ne,a0 as Ke,a1 as Xe,v as ye,a2 as Ye,a3 as Ge}from"../../../chunks/index-52270b8f.js";import{_ as Qe}from"../../../chunks/preload-helper-c28b9807.js";import{d as xe,w as we}from"../../../chunks/index-b01864a9.js";import{b as ce}from"../../../chunks/bookmarks-b581a12f.js";import{p as et}from"../../../chunks/stores-36324de2.js";import{l as pe}from"../../../chunks/lcg-params-ea5a6b99.js";function tt(n){return n<.5?4*n*n*n:.5*Math.pow(2*n-2,3)+1}function le(n,{delay:e=0,duration:s=400,easing:t=Re}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:s,easing:t,css:l=>`opacity: ${l*r}`}}function Ce(n,{delay:e=0,speed:s,duration:t,easing:r=tt}={}){let l=n.getTotalLength();const o=getComputedStyle(n);return o.strokeLinecap!=="butt"&&(l+=parseInt(o.strokeWidth)),t===void 0?s===void 0?t=800:t=l/s:typeof t=="function"&&(t=t(l)),{delay:e,duration:t,easing:r,css:(a,i)=>`stroke-dasharray: ${a*l} ${i*l}`}}const De=we(!1),Le=we(!1),ve={subscribe:Le.subscribe,set:Le.set},te={subscribe:De.subscribe,set:De.set},Fe=xe([ve,te],([n,e])=>n||e);function Ve(n){let e,s,t,r,l,o,a,i,f,c;return{c(){e=y("input"),t=C(),r=y("label"),o=C(),a=y("input"),this.h()},l(p){e=w(p,"INPUT",{id:!0,type:!0,class:!0}),t=D(p),r=w(p,"LABEL",{"aria-label":!0,for:!0,class:!0}),$(r).forEach(m),o=D(p),a=w(p,"INPUT",{"aria-label":!0,type:!0,class:!0}),this.h()},h(){g(e,"id",s=`bookmark-input-${n[0]}`),g(e,"type","checkbox"),g(e,"class","svelte-1b4nh4f"),g(r,"aria-label","Bookmarked"),g(r,"for",l=`bookmark-input-${n[0]}`),g(r,"class","svelte-1b4nh4f"),g(a,"aria-label","Bookmark title"),g(a,"type","text"),a.disabled=i=!n[1],g(a,"class","svelte-1b4nh4f")},m(p,h){T(p,e,h),e.checked=n[1],T(p,t,h),T(p,r,h),T(p,o,h),T(p,a,h),Be(a,n[2]),f||(c=[ae(e,"change",n[4]),ae(a,"input",n[5])],f=!0)},p(p,h){h&1&&s!==(s=`bookmark-input-${p[0]}`)&&g(e,"id",s),h&2&&(e.checked=p[1]),h&1&&l!==(l=`bookmark-input-${p[0]}`)&&g(r,"for",l),h&2&&i!==(i=!p[1])&&(a.disabled=i),h&4&&a.value!==p[2]&&Be(a,p[2])},d(p){p&&m(e),p&&m(t),p&&m(r),p&&m(o),p&&m(a),f=!1,Ze(c)}}}function st(n){let e,s=n[0]&&Ve(n);return{c(){e=y("div"),s&&s.c(),this.h()},l(t){e=w(t,"DIV",{class:!0});var r=$(e);s&&s.l(r),r.forEach(m),this.h()},h(){g(e,"class","wrapper")},m(t,r){T(t,e,r),s&&s.m(e,null)},p(t,[r]){t[0]?s?s.p(t,r):(s=Ve(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:B,o:B,d(t){t&&m(e),s&&s.d()}}}function rt(n,e,s){let t;A(n,ce,f=>s(3,t=f));let{pageNumber:r}=e,l,o;$e(()=>{const f=r&&t[r.toString()];f&&(s(1,l=!0),s(2,o=f))});function a(){l=this.checked,s(1,l)}function i(){o=this.value,s(2,o),s(0,r),s(1,l),s(3,t)}return n.$$set=f=>{"pageNumber"in f&&s(0,r=f.pageNumber)},n.$$.update=()=>{n.$$.dirty&15&&(r&&l===!0?(o==null&&s(2,o="New bookmark"),J(ce,t[r.toString()]=o,t)):r&&l===!1&&J(ce,t=Object.entries(t).reduce((f,[c,p])=>BigInt(c)==r?f:{acc:f,[r?.toString()]:p},{}),t))},[r,l,o,t,a,i]}class nt extends U{constructor(e){super(),O(this,e,rt,st,F,{pageNumber:0})}}const{subscribe:He,set:lt,update:at}=we(BigInt(0n));He(n=>{window.location.hash=n.toString()});const X={subscribe:He,offset:n=>{at(e=>e+n)},set:lt};function Se(n){let e,s,t;return{c(){e=y("input"),this.h()},l(r){e=w(r,"INPUT",{type:!0,class:!0}),this.h()},h(){e.value=n[0],g(e,"type","text"),g(e,"class","svelte-qmhgfz")},m(r,l){T(r,e,l),s||(t=ae(e,"input",n[1]),s=!0)},p(r,l){l&1&&e.value!==r[0]&&(e.value=r[0])},d(r){r&&m(e),s=!1,t()}}}function it(n){let e,s=n[0]&&Se(n);return{c(){s&&s.c(),e=K()},l(t){s&&s.l(t),e=K()},m(t,r){s&&s.m(t,r),T(t,e,r)},p(t,[r]){t[0]?s?s.p(t,r):(s=Se(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:B,o:B,d(t){s&&s.d(t),t&&m(e)}}}function ot(n,e,s){let{pageNumber:t}=e,r;function l(a){r&&clearTimeout(r),r=setTimeout(()=>{X.set(a)},750)}function o(a){l(BigInt(a.target.value))}return n.$$set=a=>{"pageNumber"in a&&s(0,t=a.pageNumber)},[t,o]}class ft extends U{constructor(e){super(),O(this,e,ot,it,F,{pageNumber:0})}}const ut=n=>({}),ze=n=>({}),ct=n=>({}),We=n=>({});function pt(n){let e,s,t,r,l,o,a,i,f,c,p,h,N;const u=n[7].back,_=me(u,n,n[6],We);i=new nt({props:{pageNumber:n[1]}});const v=n[7].front,k=me(v,n,n[6],ze);return p=new ft({props:{pageNumber:n[1]}}),{c(){e=y("section"),s=y("div"),t=y("div"),_&&_.c(),l=C(),o=y("div"),a=y("div"),L(i.$$.fragment),f=C(),k&&k.c(),c=C(),L(p.$$.fragment),this.h()},l(d){e=w(d,"SECTION",{"data-page":!0,style:!0,class:!0});var I=$(e);s=w(I,"DIV",{class:!0});var W=$(s);t=w(W,"DIV",{class:!0});var H=$(t);_&&_.l(H),H.forEach(m),W.forEach(m),l=D(I),o=w(I,"DIV",{class:!0});var Q=$(o);a=w(Q,"DIV",{class:!0});var M=$(a);V(i.$$.fragment,M),f=D(M),k&&k.l(M),c=D(M),V(p.$$.fragment,M),M.forEach(m),Q.forEach(m),I.forEach(m),this.h()},h(){g(t,"class","content svelte-uziqp0"),g(s,"class","back svelte-uziqp0"),q(s,"shadow",n[0]<-1),g(a,"class","content svelte-uziqp0"),g(o,"class","front svelte-uziqp0"),q(o,"shadow",n[0]>0),g(e,"data-page",n[1]),se(e,"--animation-duration",ke+"ms"),se(e,"z-index",n[2]),g(e,"class","svelte-uziqp0"),q(e,"flipped",n[3]),q(e,"flipping",n[4])},m(d,I){T(d,e,I),b(e,s),b(s,t),_&&_.m(t,null),b(e,l),b(e,o),b(o,a),S(i,a,null),b(a,f),k&&k.m(a,null),b(a,c),S(p,a,null),N=!0},p(d,[I]){_&&_.p&&(!N||I&64)&&de(_,u,d,d[6],N?be(u,d[6],I,ct):he(d[6]),We),I&1&&q(s,"shadow",d[0]<-1);const W={};I&2&&(W.pageNumber=d[1]),i.$set(W),k&&k.p&&(!N||I&64)&&de(k,v,d,d[6],N?be(v,d[6],I,ut):he(d[6]),ze);const H={};I&2&&(H.pageNumber=d[1]),p.$set(H),I&1&&q(o,"shadow",d[0]>0),(!N||I&2)&&g(e,"data-page",d[1]),(!N||I&4)&&se(e,"z-index",d[2]),I&8&&q(e,"flipped",d[3]),I&16&&q(e,"flipping",d[4])},i(d){N||(E(_,d),r||Y(()=>{r=G(t,le,{duration:750}),r.start()}),E(i.$$.fragment,d),E(k,d),E(p.$$.fragment,d),h||Y(()=>{h=G(a,le,{duration:750}),h.start()}),N=!0)},o(d){P(_,d),P(i.$$.fragment,d),P(k,d),P(p.$$.fragment,d),N=!1},d(d){d&&m(e),_&&_.d(d),z(i),k&&k.d(d),z(p)}}}const ke=1200;function _t(n,e,s){let t;A(n,te,u=>s(10,t=u));let{$$slots:r={},$$scope:l}=e,{offset:o}=e,{pageNumber:a=void 0}=e,i=0,f,c=!1,p=!1,h,N;return $e(()=>{s(5,f=o)}),Oe(()=>{h&&clearTimeout(h),N&&clearTimeout(N)}),n.$$set=u=>{"offset"in u&&s(0,o=u.offset),"pageNumber"in u&&s(1,a=u.pageNumber),"$$scope"in u&&s(6,l=u.$$scope)},n.$$.update=()=>{if(n.$$.dirty&33){const u=o==-1&&f==0,_=o==0&&f==-1;u&&(s(2,i=0),s(4,p=!0),J(te,t=!0,t),h=setTimeout(()=>{s(3,c=!0),s(4,p=!1),J(te,t=!1,t)},ke)),_&&(s(2,i=0),s(4,p=!0),J(te,t=!0,t),N=setTimeout(()=>{s(4,p=!1),s(3,c=!1),J(te,t=!1,t)},ke)),!u&&!_&&o<0&&(s(2,i=o),s(3,c=!0)),!u&&!_&&o>=0&&(s(2,i=0),s(3,c=!1)),s(5,f=o)}},[o,a,i,c,p,f,l,r]}class _e extends U{constructor(e){super(),O(this,e,_t,pt,F,{offset:0,pageNumber:1})}}function gt(n){let e,s;const t=n[1].default,r=me(t,n,n[0],null);return{c(){e=y("div"),r&&r.c(),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=$(e);r&&r.l(o),o.forEach(m),this.h()},h(){g(e,"class","svelte-1b1bs2o")},m(l,o){T(l,e,o),r&&r.m(e,null),s=!0},p(l,[o]){r&&r.p&&(!s||o&1)&&de(r,t,l,l[0],s?be(t,l[0],o,null):he(l[0]),null)},i(l){s||(E(r,l),s=!0)},o(l){P(r,l),s=!1},d(l){l&&m(e),r&&r.d(l)}}}function mt(n,e,s){let{$$slots:t={},$$scope:r}=e;return n.$$set=l=>{"$$scope"in l&&s(0,r=l.$$scope)},[r,t]}class dt extends U{constructor(e){super(),O(this,e,mt,gt,F,{})}}function ht(n){let e;return{c(){e=y("canvas")},l(s){e=w(s,"CANVAS",{}),$(e).forEach(m)},m(s,t){T(s,e,t),n[2](e)},p:B,i:B,o:B,d(s){s&&m(e),n[2](null)}}}const ee=3;function bt(n,e,s){let{image:t}=e,r;function l(o){Je[o?"unshift":"push"](()=>{r=o,s(0,r),s(1,t)})}return n.$$set=o=>{"image"in o&&s(1,t=o.image)},n.$$.update=()=>{if(n.$$.dirty&3&&r){const o=r.getContext("2d");s(0,r.height=t.length*ee,r),s(0,r.width=t[0].length*ee,r);for(let a=0;a<t.length;a++){const i=t[a];for(let f=0;f<i.length;f++)o.fillStyle=`rgb(${i[f].r}, ${i[f].g}, ${i[f].b})`,o.fillRect(a*ee,f*ee,ee,ee)}}},[r,t,l]}class vt extends U{constructor(e){super(),O(this,e,bt,ht,F,{image:1})}}function kt(n){let e,s,t,r,l,o,a,i,f,c,p,h,N,u,_,v,k,d,I,W,H,Q,M;return{c(){e=y("div"),s=y("div"),t=oe("svg"),r=oe("path"),o=oe("g"),a=oe("path"),f=C(),c=y("h1"),p=R("Wiki 2.0"),N=C(),u=y("p"),_=R("Everything ever written, everything that will be written, exists in this wiki."),k=C(),d=y("p"),I=R("With its 9\xD710"),W=y("sup"),H=R("11 589"),Q=R(` pages, the wiki is complete, all you need to do is find the right
		page...`),this.h()},l(x){e=w(x,"DIV",{class:!0});var j=$(e);s=w(j,"DIV",{class:!0,"aria-hidden":!0});var Ne=$(s);t=fe(Ne,"svg",{style:!0,xmlns:!0,version:!0,viewBox:!0});var ge=$(t);r=fe(ge,"path",{class:!0,d:!0,opacity:!0}),$(r).forEach(m),o=fe(ge,"g",{style:!0});var Ee=$(o);a=fe(Ee,"path",{class:!0,d:!0,opacity:!0}),$(a).forEach(m),Ee.forEach(m),ge.forEach(m),Ne.forEach(m),f=D(j),c=w(j,"H1",{class:!0});var Ie=$(c);p=Z(Ie,"Wiki 2.0"),Ie.forEach(m),N=D(j),u=w(j,"P",{class:!0});var Pe=$(u);_=Z(Pe,"Everything ever written, everything that will be written, exists in this wiki."),Pe.forEach(m),k=D(j),d=w(j,"P",{class:!0});var ie=$(d);I=Z(ie,"With its 9\xD710"),W=w(ie,"SUP",{});var Te=$(W);H=Z(Te,"11 589"),Te.forEach(m),Q=Z(ie,` pages, the wiki is complete, all you need to do is find the right
		page...`),ie.forEach(m),j.forEach(m),this.h()},h(){g(r,"class","ring svelte-ujoesh"),g(r,"d","M119.5+9C58.4725+8.99998+9+58.4725+9+119.5C9+180.527+58.4725+230+119.5+230C180.527+230+230+180.527+230+119.5C230+58.4725+180.527+9+119.5+9ZM119.5+6.6103e-06C185.498+6.6103e-06+239+53.502+239+119.5C239+185.498+185.498+239+119.5+239C53.502+239+0+185.498+0+119.5C0+53.502+53.502+3.70007e-05+119.5+6.6103e-06Z"),g(r,"opacity","1"),g(a,"class","bookmark svelte-ujoesh"),g(a,"d","M119.625+18C104.537+18+90.277+21.3764+77.4062+27.2813L77.4062+153.219C77.4063+153.763+77.5984+153.958+77.75+154.188L119.625+102.438L161.5+154.188C161.652+153.958+161.844+153.763+161.844+153.219L161.844+27.2813C148.973+21.3764+134.713+18+119.625+18Z"),g(a,"opacity","1"),se(o,"color","var(--primary)"),se(t,"fill-rule","evenodd"),g(t,"xmlns","http://www.w3.org/2000/svg"),g(t,"version","1.1"),g(t,"viewBox","0 0 239 239"),g(s,"class","logo svelte-ujoesh"),g(s,"aria-hidden","true"),g(c,"class","svelte-ujoesh"),g(u,"class","svelte-ujoesh"),g(d,"class","svelte-ujoesh"),g(e,"class","wrapper svelte-ujoesh")},m(x,j){T(x,e,j),b(e,s),b(s,t),b(t,r),b(t,o),b(o,a),b(e,f),b(e,c),b(c,p),b(e,N),b(e,u),b(u,_),b(e,k),b(e,d),b(d,I),b(d,W),b(W,H),b(d,Q)},p:B,i(x){l||Y(()=>{l=G(r,Ce,{duration:2e3}),l.start()}),i||Y(()=>{i=G(a,Ce,{duration:2e3}),i.start()}),h||Y(()=>{h=G(c,le,{delay:2e3+9*100,duration:500}),h.start()}),v||Y(()=>{v=G(u,le,{delay:2e3+9*100+75,duration:500}),v.start()}),M||Y(()=>{M=G(d,le,{delay:2e3+9*100+2*75,duration:1e3}),M.start()})},o:B,d(x){x&&m(e)}}}class $t extends U{constructor(e){super(),O(this,e,null,kt,F,{})}}function Me(n,e,s){const t=n.slice();return t[11]=e[s],t[13]=s,t}function je(n){let e,s;return e=new _e({props:{offset:0}}),{c(){L(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){S(e,t,r),s=!0},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){P(e.$$.fragment,t),s=!1},d(t){z(e,t)}}}function qe(n){let e=[],s=new Map,t,r,l=n[0];const o=a=>a[11].pageNumber;for(let a=0;a<l.length;a+=1){let i=Me(n,l,a),f=o(i);s.set(f,e[a]=Ae(f,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=K()},l(a){for(let i=0;i<e.length;i+=1)e[i].l(a);t=K()},m(a,i){for(let f=0;f<e.length;f+=1)e[f].m(a,i);T(a,t,i),r=!0},p(a,i){i&11&&(l=a[0],re(),e=Ke(e,i,o,1,a,l,s,t.parentNode,Xe,Ae,t,Me),ne())},i(a){if(!r){for(let i=0;i<l.length;i+=1)E(e[i]);r=!0}},o(a){for(let i=0;i<e.length;i+=1)P(e[i]);r=!1},d(a){for(let i=0;i<e.length;i+=1)e[i].d(a);a&&m(t)}}}function yt(n){let e=n[11].text+"",s;return{c(){s=R(e)},l(t){s=Z(t,e)},m(t,r){T(t,s,r)},p(t,r){r&1&&e!==(e=t[11].text+"")&&ye(s,e)},i:B,o:B,d(t){t&&m(s)}}}function wt(n){let e,s=n[11].text+"",t;return{c(){e=new Ye(!1),t=K(),this.h()},l(r){e=Ge(r,!1),t=K(),this.h()},h(){e.a=t},m(r,l){e.m(s,r,l),T(r,t,l)},p(r,l){l&1&&s!==(s=r[11].text+"")&&e.p(s)},i:B,o:B,d(r){r&&m(t),r&&e.d()}}}function Nt(n){let e,s;return e=new $t({}),{c(){L(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){S(e,t,r),s=!0},p:B,i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){P(e.$$.fragment,t),s=!1},d(t){z(e,t)}}}function Et(n){let e,s,t,r;const l=[Nt,wt,yt],o=[];function a(i,f){return i[11].text==null?0:i[3][i[11].pageNumber]?1:2}return e=a(n),s=o[e]=l[e](n),{c(){s.c(),t=C()},l(i){s.l(i),t=D(i)},m(i,f){o[e].m(i,f),T(i,t,f),r=!0},p(i,f){let c=e;e=a(i),e===c?o[e].p(i,f):(re(),P(o[c],1,1,()=>{o[c]=null}),ne(),s=o[e],s?s.p(i,f):(s=o[e]=l[e](i),s.c()),E(s,1),s.m(t.parentNode,t))},i(i){r||(E(s),r=!0)},o(i){P(s),r=!1},d(i){o[e].d(i),i&&m(t)}}}function It(n){let e,s;return e=new dt({props:{slot:"front",$$slots:{default:[Et]},$$scope:{ctx:n}}}),{c(){L(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){S(e,t,r),s=!0},p(t,r){const l={};r&16393&&(l.$$scope={dirty:r,ctx:t}),e.$set(l)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){P(e.$$.fragment,t),s=!1},d(t){z(e,t)}}}function Pt(n){let e,s;return e=new vt({props:{slot:"back",image:n[11].image}}),{c(){L(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){S(e,t,r),s=!0},p(t,r){const l={};r&1&&(l.image=t[11].image),e.$set(l)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){P(e.$$.fragment,t),s=!1},d(t){z(e,t)}}}function Ae(n,e){let s,t,r;return t=new _e({props:{pageNumber:e[11].pageNumber,offset:e[0].findIndex(e[8])-e[13],$$slots:{back:[Pt],front:[It]},$$scope:{ctx:e}}}),{key:n,first:null,c(){s=K(),L(t.$$.fragment),this.h()},l(l){s=K(),V(t.$$.fragment,l),this.h()},h(){this.first=s},m(l,o){T(l,s,o),S(t,l,o),r=!0},p(l,o){e=l;const a={};o&1&&(a.pageNumber=e[11].pageNumber),o&3&&(a.offset=e[0].findIndex(e[8])-e[13]),o&16393&&(a.$$scope={dirty:o,ctx:e}),t.$set(a)},i(l){r||(E(t.$$.fragment,l),r=!0)},o(l){P(t.$$.fragment,l),r=!1},d(l){l&&m(s),z(t,l)}}}function Tt(n){let e,s;return e=new _e({props:{offset:n[1]>0&&!n[2]?-100:-1}}),{c(){L(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){S(e,t,r),s=!0},p(t,r){const l={};r&6&&(l.offset=t[1]>0&&!t[2]?-100:-1),e.$set(l)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){P(e.$$.fragment,t),s=!1},d(t){z(e,t)}}}function Bt(n){let e,s;return e=new _e({props:{offset:-1}}),{c(){L(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){S(e,t,r),s=!0},p:B,i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){P(e.$$.fragment,t),s=!1},d(t){z(e,t)}}}function Ct(n){let e,s,t,r,l,o,a,i,f=(!n[2]||n[1]==0n)&&je(),c=(!n[2]||n[1]==0n)&&qe(n);const p=[Bt,Tt],h=[];function N(u,_){return u[2]?0:1}return o=N(n),a=h[o]=p[o](n),{c(){e=y("div"),s=y("div"),t=y("div"),f&&f.c(),r=C(),c&&c.c(),l=C(),a.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var _=$(e);s=w(_,"DIV",{class:!0});var v=$(s);t=w(v,"DIV",{class:!0});var k=$(t);f&&f.l(k),r=D(k),c&&c.l(k),l=D(k),a.l(k),k.forEach(m),v.forEach(m),_.forEach(m),this.h()},h(){g(t,"class","pages-wrapper svelte-18kzf7h"),g(s,"class","pages-border svelte-18kzf7h"),g(e,"class","cover svelte-18kzf7h")},m(u,_){T(u,e,_),b(e,s),b(s,t),f&&f.m(t,null),b(t,r),c&&c.m(t,null),b(t,l),h[o].m(t,null),i=!0},p(u,[_]){!u[2]||u[1]==0n?f?_&6&&E(f,1):(f=je(),f.c(),E(f,1),f.m(t,r)):f&&(re(),P(f,1,1,()=>{f=null}),ne()),!u[2]||u[1]==0n?c?(c.p(u,_),_&6&&E(c,1)):(c=qe(u),c.c(),E(c,1),c.m(t,l)):c&&(re(),P(c,1,1,()=>{c=null}),ne());let v=o;o=N(u),o===v?h[o].p(u,_):(re(),P(h[v],1,1,()=>{h[v]=null}),ne(),a=h[o],a?a.p(u,_):(a=h[o]=p[o](u),a.c()),E(a,1),a.m(t,null))},i(u){i||(E(f),E(c),E(a),i=!0)},o(u){P(f),P(c),P(a),i=!1},d(u){u&&m(e),f&&f.d(),c&&c.d(),h[o].d()}}}const ue=3n;function Dt(n,e){return Array.from(new Array(Number(e-n)),(s,t)=>BigInt(t)+n)}function Lt(n,e,s){let t,r,l,o,a;A(n,X,u=>s(1,r=u)),A(n,ve,u=>s(6,l=u)),A(n,et,u=>s(7,o=u)),A(n,ce,u=>s(3,a=u));let i=[],f=[],c;const p=async()=>{const u=await Qe(()=>import("../../../chunks/content-generator-a1c8252a.js"),[]);s(5,c=new u.default),s(5,c.onmessage=({data:_})=>{f.find(v=>v.pageNumber==_.pageNumber)||s(0,f=[...f,_].sort((v,k)=>v.pageNumber-k.pageNumber<0n?1:-1).filter(v=>v.pageNumber<=r?v.pageNumber+ue>=r:v.pageNumber-ue<=r))},c)};$e(async()=>{await p()}),Oe(()=>c?.terminate());function h(u=0n){const _=f.map(v=>v.pageNumber);return Dt(u-ue,u+ue).filter(v=>v>=0).filter(v=>!_.includes(v))}const N=u=>u.pageNumber==r;return n.$$.update=()=>{n.$$.dirty&128&&J(X,r=BigInt(o.url.hash.slice(1)),r),n.$$.dirty&2&&s(4,i=h(r)),n.$$.dirty&17&&J(ve,l=!i.every(u=>f.map(_=>_.pageNumber).includes(u)),l),n.$$.dirty&80&&s(2,t=i.length>1&&l),n.$$.dirty&48&&i.forEach(u=>c?.postMessage(u))},[f,r,t,a,i,c,l,o,N]}class Vt extends U{constructor(e){super(),O(this,e,Lt,Ct,F,{})}}function St(n){let e,s=n[0]=="previous"?"\u2039":"\u203A",t,r,l,o;return{c(){e=y("button"),t=R(s),this.h()},l(a){e=w(a,"BUTTON",{class:!0});var i=$(e);t=Z(i,s),i.forEach(m),this.h()},h(){e.disabled=r=n[2]||n[1],g(e,"class","svelte-11gsh9m"),q(e,"hidden",n[1])},m(a,i){T(a,e,i),b(e,t),l||(o=ae(e,"click",n[3]),l=!0)},p(a,[i]){i&1&&s!==(s=a[0]=="previous"?"\u2039":"\u203A")&&ye(t,s),i&6&&r!==(r=a[2]||a[1])&&(e.disabled=r),i&2&&q(e,"hidden",a[1])},i:B,o:B,d(a){a&&m(e),l=!1,o()}}}function zt(n,e,s){let t;A(n,Fe,a=>s(2,t=a));let{modifier:r}=e,{hidden:l=!1}=e;function o(){r=="previous"?X.offset(-1n):X.offset(1n)}return n.$$set=a=>{"modifier"in a&&s(0,r=a.modifier),"hidden"in a&&s(1,l=a.hidden)},[r,l,t,o]}class Ue extends U{constructor(e){super(),O(this,e,zt,St,F,{modifier:0,hidden:1})}}function Wt(n){let e,s,t,r,l,o,a;return{c(){e=y("label"),s=R(n[0]),t=R(" %"),r=C(),l=y("input"),this.h()},l(i){e=w(i,"LABEL",{for:!0,class:!0});var f=$(e);s=Z(f,n[0]),t=Z(f," %"),f.forEach(m),r=D(i),l=w(i,"INPUT",{id:!0,"aria-label":!0,type:!0,step:!0,class:!0}),this.h()},h(){g(e,"for","progress"),g(e,"class","svelte-nw1aen"),g(l,"id","progress"),g(l,"aria-label","Progress in Wiki"),g(l,"type","range"),g(l,"step","any"),l.value=n[0],l.disabled=n[1],g(l,"class","svelte-nw1aen")},m(i,f){T(i,e,f),b(e,s),b(e,t),T(i,r,f),T(i,l,f),o||(a=ae(l,"change",n[2]),o=!0)},p(i,[f]){f&1&&ye(s,i[0]),f&1&&(l.value=i[0]),f&2&&(l.disabled=i[1])},i:B,o:B,d(i){i&&m(e),i&&m(r),i&&m(l),o=!1,a()}}}function Mt(n,e,s){let t,r,l;A(n,X,a=>s(3,r=a)),A(n,Fe,a=>s(1,l=a));function o(a){J(X,r=BigInt(Math.floor(100*a.target.value))*pe.m/10000n,r)}return n.$$.update=()=>{n.$$.dirty&8&&s(0,t=(Number(BigInt(r)*10000n/pe.m)/100).toFixed(1))},[t,l,o,r]}class jt extends U{constructor(e){super(),O(this,e,Mt,Wt,F,{})}}function qt(n){let e,s,t,r,l,o,a,i,f,c,p,h,N;return t=new Vt({}),o=new Ue({props:{hidden:n[0]<=0n,modifier:"previous"}}),f=new Ue({props:{hidden:n[0]>=pe.m,modifier:"next"}}),h=new jt({}),{c(){e=y("div"),s=y("div"),L(t.$$.fragment),r=C(),l=y("div"),L(o.$$.fragment),a=C(),i=y("div"),L(f.$$.fragment),c=C(),p=y("div"),L(h.$$.fragment),this.h()},l(u){e=w(u,"DIV",{id:!0,class:!0});var _=$(e);s=w(_,"DIV",{class:!0});var v=$(s);V(t.$$.fragment,v),v.forEach(m),r=D(_),l=w(_,"DIV",{class:!0});var k=$(l);V(o.$$.fragment,k),k.forEach(m),a=D(_),i=w(_,"DIV",{class:!0});var d=$(i);V(f.$$.fragment,d),d.forEach(m),c=D(_),p=w(_,"DIV",{class:!0});var I=$(p);V(h.$$.fragment,I),I.forEach(m),_.forEach(m),this.h()},h(){g(s,"class","book svelte-1t4vkdv"),g(l,"class","left svelte-1t4vkdv"),g(i,"class","right svelte-1t4vkdv"),g(p,"class","progress svelte-1t4vkdv"),g(e,"id","browse"),g(e,"class","svelte-1t4vkdv")},m(u,_){T(u,e,_),b(e,s),S(t,s,null),b(e,r),b(e,l),S(o,l,null),b(e,a),b(e,i),S(f,i,null),b(e,c),b(e,p),S(h,p,null),N=!0},p(u,[_]){const v={};_&1&&(v.hidden=u[0]<=0n),o.$set(v);const k={};_&1&&(k.hidden=u[0]>=pe.m),f.$set(k)},i(u){N||(E(t.$$.fragment,u),E(o.$$.fragment,u),E(f.$$.fragment,u),E(h.$$.fragment,u),N=!0)},o(u){P(t.$$.fragment,u),P(o.$$.fragment,u),P(f.$$.fragment,u),P(h.$$.fragment,u),N=!1},d(u){u&&m(e),z(t),z(o),z(f),z(h)}}}function At(n,e,s){let t;return A(n,X,r=>s(0,t=r)),[t]}class Jt extends U{constructor(e){super(),O(this,e,At,qt,F,{})}}export{Jt as default};
